"use strict";exports.id=896,exports.ids=[896],exports.modules={2896:(e,l,t)=>{t.d(l,{v9:()=>w,AU:()=>k,lm:()=>y});var n=t(7249);function r(e){if(!e)return null;let l=e.replace(/\u00a0/g," ").trim();if(!l)return null;let t=l.match(/^([+-])?\s*([\d,]+(?:\.[\d]+)?)$/);if(!t)return null;let n="-"===t[1]?-1:1,r=Number(t[2].replace(/,/g,""));return Number.isFinite(r)?n*r:null}function a(e){return e.replace(/\u00a0/g," ").replace(/[()]/g," ").replace(/\./g," ").replace(/&/g,"and").replace(/,/g," ").replace(/\s+/g," ").toLowerCase().trim()}function s(e,l){let t=e("body");for(let n of l){let l=n.toLowerCase(),r=t.find("*");for(let n=0;n<r.length;n++){let a=r[n];if(e(a).text().toLowerCase().includes(l)){let l=e(a).closest("table, div, section");if(l.length>0)return l;let n=e(a).parent();if(n.length>0&&n[0]!==t[0])return n}}}return null}function u(e,l,t){let n=l.find("tr");for(let l=0;l<n.length;l++){let r=n[l];if(function(e,l){let t=a(e);for(let e of l){let l=a(e);if(t===l)return e;let n=l.split(/\s+/).filter(e=>e.length>2);if(n.length>0&&n.every(e=>t.includes(e)))return e}return null}(e(r).find("td, th").first().text().trim(),t))return e(r)}return null}function o(e,l,t){let n=l.find("tr").slice(0,3);for(let l=0;l<n.length;l++){let r=e(n[l]).find("td, th");for(let l=0;l<r.length;l++){let n=a(e(r[l]).text().trim());for(let e of t){let t=a(e);if(n.includes(t))return l}}}return -1}function i(e){if(!e)return null;let l=e.match(/([A-Z][a-z]{2,})\s+(\d{1,2}),\s+(\d{4})/);if(!l)return null;let t={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[l[1]];if(!t)return null;let n=String(l[2]).padStart(2,"0"),r=l[3];return`${r}-${t}-${n}`}function c(e){return e.replace(/-/g,"")}async function y(e){let l=c(e),t=`https://www.federalreserve.gov/releases/h41/${l}/default.htm`;try{let l=await fetch(t,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},cache:"no-store"});if(!l.ok)throw Error(`Failed to fetch H.4.1 HTML: ${l.status}`);let r=await l.text(),a=n.zD(r),c=function(e){let l=e("body").text().match(/Release\s+Date[:\s]+([A-Z][a-z]{2,}\s+\d{1,2},\s+\d{4})/i);if(l){let e=i(l[1]);if(e)return e}return""}(a),y=function(e){let l=e("body").text().match(/Week\s+ended[:\s]+([A-Z][a-z]{2,}\s+\d{1,2},\s+\d{4})/i);if(l){let e=i(l[1]);if(e)return e}return""}(a),v=[],w=function(e,l){let t=s(e,["Factors Affecting Reserve Balances","Table 1"]);if(!t||0===t.length)return l.push("Overview section not found"),b();let n=t.find("table").first();if(0===n.length)return l.push("Overview table not found"),b();let r=o(e,n,["Week ended","Level"]),a=o(e,n,["Change from previous week","Change from week ended"]),u=o(e,n,["Change from year ago","Change from:"]),i=d(n,e,["Total factors supplying reserve funds"],r,l),c=d(n,e,["Securities held outright"],r,l),y=d(n,e,["Reserve balances with Federal Reserve Banks"],r,l),f=d(n,e,["U.S. Treasury, General Account","Treasury General Account"],r,l),h=d(n,e,["Reverse repurchase agreements"],r,l),g=d(n,e,["Currency in circulation"],r,l),v=d(n,e,["Total factors supplying reserve funds"],a,l),p=d(n,e,["Total factors supplying reserve funds"],u,l),w=d(n,e,["Securities held outright"],a,l),k=d(n,e,["Securities held outright"],u,l),m=d(n,e,["Reserve balances with Federal Reserve Banks"],a,l),T=d(n,e,["Reserve balances with Federal Reserve Banks"],u,l),A=d(n,e,["U.S. Treasury, General Account","Treasury General Account"],a,l),R=d(n,e,["U.S. Treasury, General Account","Treasury General Account"],u,l),K=d(n,e,["Reverse repurchase agreements"],a,l),S=d(n,e,["Reverse repurchase agreements"],u,l),x=d(n,e,["Currency in circulation"],a,l),C=d(n,e,["Currency in circulation"],u,l),B=s(e,["Consolidated Statement of Condition","Table 5"]),F=null,L=null,W=null,$=null;if(B&&B.length>0){let t=B.find("table").first();if(t.length>0){let n=o(e,t,["Assets","Level"]);F=d(t,e,["Total assets"],n,l),L=d(t,e,["U.S. Treasury securities"],n,l),W=d(t,e,["Mortgage-backed securities"],n,l),$=d(t,e,["Other assets"],n,l)}}return{totalAssets:i,securities:c,reserveBalances:y,tga:f,reverseRepos:h,currency:g,totalAssetsWeekly:v,totalAssetsYearly:p,securitiesWeekly:w,securitiesYearly:k,reserveBalancesWeekly:m,reserveBalancesYearly:T,tgaWeekly:A,tgaYearly:R,reverseReposWeekly:K,reverseReposYearly:S,currencyWeekly:x,currencyYearly:C,totalAssetsForComposition:F,treasurySecurities:L,mortgageBackedSecurities:W,otherAssets:$}}(a,v),k=function(e,l){let t=s(e,["Factors Affecting Reserve Balances","Table 1"]);if(!t||0===t.length)return l.push("Factors section not found"),h();let n=t.find("table").first();if(0===n.length)return l.push("Factors table not found"),h();let r=o(e,n,["Week ended","Level"]),a=o(e,n,["Change from previous week","Change from week ended"]),u=o(e,n,["Change from year ago","Change from:"]),i=[{label:"Reserve Bank credit",labelKo:"연준 신용",value:null,weekly:null,yearly:null},{label:"Securities held outright",labelKo:"보유 증권",value:null,weekly:null,yearly:null},{label:"U.S. Treasury securities",labelKo:"미 국채",value:null,weekly:null,yearly:null},{label:"Bills",labelKo:"단기채",value:null,weekly:null,yearly:null},{label:"Notes and bonds, nominal",labelKo:"중장기채",value:null,weekly:null,yearly:null},{label:"Notes and bonds, inflation-indexed",labelKo:"물가연동채",value:null,weekly:null,yearly:null},{label:"Mortgage-backed securities",labelKo:"주택저당증권",value:null,weekly:null,yearly:null},{label:"Repurchase agreements",labelKo:"레포",value:null,weekly:null,yearly:null},{label:"Loans",labelKo:"대출",value:null,weekly:null,yearly:null},{label:"Loans - Bank Term Funding Program",labelKo:"은행기간대출",value:null,weekly:null,yearly:null},{label:"Central bank liquidity swaps",labelKo:"통화스왑",value:null,weekly:null,yearly:null},{label:"Gold stock",labelKo:"금",value:null,weekly:null,yearly:null},{label:"Coin",labelKo:"SDR 증서",value:null,weekly:null,yearly:null}];for(let t of i)t.value=d(n,e,[t.label],r,l),t.weekly=d(n,e,[t.label],a,l),t.yearly=d(n,e,[t.label],u,l);let c=[{label:"Currency in circulation",labelKo:"유통 통화",value:null,weekly:null,yearly:null},{label:"Reverse repurchase agreements",labelKo:"역레포",value:null,weekly:null,yearly:null},{label:"Deposits with F.R. Banks, other than reserve balances",labelKo:"연준 예치금",value:null,weekly:null,yearly:null},{label:"U.S. Treasury, General Account",labelKo:"재무부 일반계정",value:null,weekly:null,yearly:null}];for(let t of c)t.value=d(n,e,[t.label],r,l),t.weekly=d(n,e,[t.label],a,l),t.yearly=d(n,e,[t.label],u,l);let y={value:d(n,e,["Total factors supplying reserve funds"],r,l),weekly:d(n,e,["Total factors supplying reserve funds"],a,l),yearly:d(n,e,["Total factors supplying reserve funds"],u,l)},f={value:d(n,e,["Total factors, other than reserve balances, absorbing reserve funds"],r,l),weekly:d(n,e,["Total factors, other than reserve balances, absorbing reserve funds"],a,l),yearly:d(n,e,["Total factors, other than reserve balances, absorbing reserve funds"],u,l)},b={value:d(n,e,["Reserve balances with Federal Reserve Banks"],r,l),weekly:d(n,e,["Reserve balances with Federal Reserve Banks"],a,l),yearly:d(n,e,["Reserve balances with Federal Reserve Banks"],u,l)};return 13!==i.length&&l.push(`Supplying items count mismatch: expected 13, got ${i.length}`),4!==c.length&&l.push(`Absorbing items count mismatch: expected 4, got ${c.length}`),{supplying:i,absorbing:c,totals:{totalSupplying:y,totalAbsorbing:f,reserveBalances:b}}}(a,v),m={supplyingTop:[k.supplying.find(e=>"보유 증권"===e.labelKo)||{label:"",labelKo:"보유 증권",value:null,weekly:null,yearly:null},k.supplying.find(e=>"레포"===e.labelKo)||{label:"",labelKo:"레포",value:null,weekly:null,yearly:null},k.supplying.find(e=>"대출"===e.labelKo)||{label:"",labelKo:"대출",value:null,weekly:null,yearly:null},k.supplying.find(e=>"통화스왑"===e.labelKo)||{label:"",labelKo:"통화스왑",value:null,weekly:null,yearly:null}].filter(e=>null!==e.value),absorbingTop:[k.absorbing.find(e=>"유통 통화"===e.labelKo)||{label:"",labelKo:"유통 통화",value:null,weekly:null,yearly:null},k.absorbing.find(e=>"역레포"===e.labelKo)||{label:"",labelKo:"역레포",value:null,weekly:null,yearly:null},k.absorbing.find(e=>"재무부 일반계정"===e.labelKo)||{label:"",labelKo:"재무부 일반계정",value:null,weekly:null,yearly:null},{label:"Reserve balances with Federal Reserve Banks",labelKo:"지급준비금",...k.totals.reserveBalances}].filter(e=>null!==e.value)},T=function(e,l){let t=s(e,["Maturity Distribution of Securities","Table 2"]);if(!t||0===t.length)return l.push("Maturity section not found"),g();let n=t.find("table").first();if(0===n.length)return l.push("Maturity table not found"),g();let r=u(e,n,["U.S. Treasury securities"]),a=u(e,n,["Mortgage-backed securities"]);return{treasury:f(e,r,l),mbs:f(e,a,l)}}(a,v),A=function(e,l){let t=s(e,["Factors Affecting Reserve Balances"]),n=s(e,["Memorandum Items","1A"]),r=null,a=null,u=null,i=null,c=null;if(t&&t.length>0){let n=t.find("table").first();if(n.length>0){let t=o(e,n,["Week ended","Level"]);r=d(n,e,["Loans - Primary credit"],t,l),a=d(n,e,["Loans - Bank Term Funding Program"],t,l),u=d(n,e,["Loans"],t,l)}}if(n&&n.length>0){let t=n.find("table").first();if(t.length>0){let n=o(e,t,["Week ended","Level"]);i=d(t,e,["Securities lent to dealers - Overnight facility"],n,l),c=d(t,e,["Securities lent to dealers - Term facility"],n,l)}}return{loans:{primaryCredit:r,btfp:a,total:u},securitiesLending:{overnight:i,term:c}}}(a,v),R=function(e,l){let t=s(e,["Consolidated Statement of Condition","Table 5"]);if(!t||0===t.length)return l.push("Statement section not found"),p();let n=t.find("table").first();if(0===n.length)return l.push("Statement table not found"),p();let r=o(e,n,["Assets","Level"]),a=o(e,n,["Liabilities","Level"]);return{assets:{gold:d(n,e,["Gold stock"],r,l),sdr:d(n,e,["Coin"],r,l),securities:d(n,e,["Securities held outright"],r,l),repos:d(n,e,["Repurchase agreements"],r,l),loans:d(n,e,["Loans"],r,l),swaps:d(n,e,["Central bank liquidity swaps"],r,l),total:d(n,e,["Total assets"],r,l)},liabilities:{currency:d(n,e,["Currency in circulation"],a,l),reverseRepos:d(n,e,["Reverse repurchase agreements"],a,l),deposits:d(n,e,["Deposits with F.R. Banks, other than reserve balances"],a,l),reserveBalances:d(n,e,["Reserve balances with Federal Reserve Banks"],a,l),tga:d(n,e,["U.S. Treasury, General Account","Treasury General Account"],a,l),total:d(n,e,["Total liabilities"],a,l)}}}(a,v);return{ok:!0,date:e,releaseDate:c,weekEnded:y,sections:{overview:w,factors:k,summary:m,maturity:T,lending:A,statement:R},warnings:v}}catch(l){return{ok:!1,date:e,releaseDate:"",weekEnded:"",sections:{overview:b(),factors:h(),summary:{supplyingTop:[],absorbingTop:[]},maturity:g(),lending:{loans:{primaryCredit:null,btfp:null,total:null},securitiesLending:{overnight:null,term:null}},statement:p()},warnings:[l instanceof Error?l.message:String(l)]}}}function f(e,l,t){if(!l||0===l.length)return v();let n=l.find("td, th"),a=o(e,l.closest("table"),["within 15 days","15 days"]),s=o(e,l.closest("table"),["16-90 days","16 to 90"]),u=o(e,l.closest("table"),["91 days to 1 year","91-365"]),i=o(e,l.closest("table"),["1-5 years","1 to 5"]),c=o(e,l.closest("table"),["5-10 years","5 to 10"]),y=o(e,l.closest("table"),["10 years and over","10+"]),f=o(e,l.closest("table"),["Total"]);return{within15Days:a>=0?r(e(n[a]).text()):null,days16to90:s>=0?r(e(n[s]).text()):null,days91to1Year:u>=0?r(e(n[u]).text()):null,years1to5:i>=0?r(e(n[i]).text()):null,years5to10:c>=0?r(e(n[c]).text()):null,years10AndOver:y>=0?r(e(n[y]).text()):null,total:f>=0?r(e(n[f]).text()):null}}function d(e,l,t,n,a){if(n<0)return null;let s=u(l,e,t);if(!s||0===s.length)return a.push(`Row not found for labels: ${t.join(", ")}`),null;let o=s.find("td, th");if(o.length<=n)return a.push(`Column index ${n} out of range for row: ${t[0]}`),null;let i=l(o[n]).text().trim(),c=r(i);return null===c&&i&&a.push(`Failed to parse number from "${i}" for ${t[0]}`),c}function b(){return{totalAssets:null,securities:null,reserveBalances:null,tga:null,reverseRepos:null,currency:null,totalAssetsWeekly:null,totalAssetsYearly:null,securitiesWeekly:null,securitiesYearly:null,reserveBalancesWeekly:null,reserveBalancesYearly:null,tgaWeekly:null,tgaYearly:null,reverseReposWeekly:null,reverseReposYearly:null,currencyWeekly:null,currencyYearly:null,totalAssetsForComposition:null,treasurySecurities:null,mortgageBackedSecurities:null,otherAssets:null}}function h(){return{supplying:[],absorbing:[],totals:{totalSupplying:{value:null,weekly:null,yearly:null},totalAbsorbing:{value:null,weekly:null,yearly:null},reserveBalances:{value:null,weekly:null,yearly:null}}}}function g(){return{treasury:v(),mbs:v()}}function v(){return{within15Days:null,days16to90:null,days91to1Year:null,years1to5:null,years5to10:null,years10AndOver:null,total:null}}function p(){return{assets:{gold:null,sdr:null,securities:null,repos:null,loans:null,swaps:null,total:null},liabilities:{currency:null,reverseRepos:null,deposits:null,reserveBalances:null,tga:null,total:null}}}async function w(e,l){let t=c(e),n=`https://www.federalreserve.gov/releases/h41/${t}/default.htm`,r=await fetch(n,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},cache:"no-store"});if(!r.ok)throw Error(`Failed to fetch H.4.1 HTML: ${r.status} ${r.statusText}`);return{html:await r.text(),url:n}}async function k(){let e=await fetch("https://www.federalreserve.gov/releases/h41/",{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},cache:"no-store"});if(!e.ok)throw Error(`Failed to fetch H.4.1 main page: ${e.status}`);let l=await e.text(),t=n.zD(l),r=[];t('a[href*="/releases/h41/"]').each((e,l)=>{let n=(t(l).attr("href")||"").match(/\/releases\/h41\/(\d{8})\//);if(n){let e=n[1],l=`${e.slice(0,4)}-${e.slice(4,6)}-${e.slice(6,8)}`;r.push(l)}});let a=Array.from(new Set(r)).sort().reverse();if(0===a.length)throw Error("No release dates found");return a}}};