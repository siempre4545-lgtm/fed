"use strict";(()=>{var e={};e.id=275,e.ids=[275],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},6162:e=>{e.exports=require("stream")},4026:e=>{e.exports=require("string_decoder")},8061:e=>{e.exports=require("node:assert")},2761:e=>{e.exports=require("node:async_hooks")},2254:e=>{e.exports=require("node:buffer")},27:e=>{e.exports=require("node:console")},6005:e=>{e.exports=require("node:crypto")},5714:e=>{e.exports=require("node:diagnostics_channel")},604:e=>{e.exports=require("node:dns")},5673:e=>{e.exports=require("node:events")},3977:e=>{e.exports=require("node:fs/promises")},8849:e=>{e.exports=require("node:http")},2725:e=>{e.exports=require("node:http2")},7503:e=>{e.exports=require("node:net")},9411:e=>{e.exports=require("node:path")},8846:e=>{e.exports=require("node:perf_hooks")},5815:e=>{e.exports=require("node:querystring")},5467:e=>{e.exports=require("node:sqlite")},4492:e=>{e.exports=require("node:stream")},2332:e=>{e.exports=require("node:timers")},1764:e=>{e.exports=require("node:tls")},7261:e=>{e.exports=require("node:util")},3746:e=>{e.exports=require("node:util/types")},4086:e=>{e.exports=require("node:worker_threads")},5628:e=>{e.exports=require("node:zlib")},9838:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>f,requestAsyncStorage:()=>h,routeModule:()=>x,serverHooks:()=>g,staticGenerationAsyncStorage:()=>q});var o={};t.r(o),t.d(o,{GET:()=>c,dynamic:()=>u,revalidate:()=>d,runtime:()=>l});var s=t(9303),n=t(8716),a=t(3131),i=t(7070),p=t(385);let u="force-dynamic",d=0,l="nodejs";async function c(e){let r=`req-${Date.now()}-${Math.random().toString(36).substring(7)}`;try{let t;let o=new URL(e.url),s=o.searchParams.get("date")??"",n="1"===o.searchParams.get("debug");if(!s)return i.NextResponse.json({ok:!1,error:"date parameter is required (YYYY-MM-DD)"},{status:400});if(!/^\d{4}-\d{2}-\d{2}$/.test(s))return i.NextResponse.json({ok:!1,error:"Invalid date format. Use YYYY-MM-DD"},{status:400});try{if(console.log(`[${r}] Parsing H.4.1 report for date: ${s}`),!(t=await (0,p.lm)(s)).ok)return console.error(`[${r}] Parsing failed:`,t.warnings),i.NextResponse.json({ok:!1,error:`Failed to parse H.4.1 data: ${t.warnings.join("; ")}`,...n&&{date:s,warnings:t.warnings}},{status:500});n&&console.log(`[${r}] H.4.1 data parsed:`,{releaseDate:t.releaseDate,weekEnded:t.weekEnded,hasOverview:!!t.sections.overview.totalAssets,hasFactors:t.sections.factors.supplying.length>0})}catch(t){let e=t instanceof Error?t.message:String(t);return console.error(`[${r}] Parse error:`,{date:s,error:e,stack:t instanceof Error?t.stack:void 0}),i.NextResponse.json({ok:!1,error:`Failed to parse H.4.1 report: ${e}`,...n&&{date:s,errorDetails:e}},{status:500})}return i.NextResponse.json(t,{headers:{"Cache-Control":"public, s-maxage=21600, stale-while-revalidate=86400"}})}catch(e){return console.error("Error in report route:",e),i.NextResponse.json({ok:!1,error:e instanceof Error?e.message:String(e)},{status:500})}}let x=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/h41/report/route",pathname:"/api/h41/report",filename:"route",bundlePath:"app/api/h41/report/route"},resolvedPagePath:"C:\\Users\\Dick\\FED_h.4.1\\h41-dashboard\\app\\api\\h41\\report\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:q,serverHooks:g}=x,m="/api/h41/report/route";function f(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:q})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[276,972,917,385],()=>t(9838));module.exports=o})();