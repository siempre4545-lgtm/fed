"use strict";(()=>{var e={};e.id=70,e.ids=[70],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},6162:e=>{e.exports=require("stream")},4026:e=>{e.exports=require("string_decoder")},8061:e=>{e.exports=require("node:assert")},2761:e=>{e.exports=require("node:async_hooks")},2254:e=>{e.exports=require("node:buffer")},27:e=>{e.exports=require("node:console")},6005:e=>{e.exports=require("node:crypto")},5714:e=>{e.exports=require("node:diagnostics_channel")},604:e=>{e.exports=require("node:dns")},5673:e=>{e.exports=require("node:events")},3977:e=>{e.exports=require("node:fs/promises")},8849:e=>{e.exports=require("node:http")},2725:e=>{e.exports=require("node:http2")},7503:e=>{e.exports=require("node:net")},9411:e=>{e.exports=require("node:path")},8846:e=>{e.exports=require("node:perf_hooks")},5815:e=>{e.exports=require("node:querystring")},5467:e=>{e.exports=require("node:sqlite")},4492:e=>{e.exports=require("node:stream")},2332:e=>{e.exports=require("node:timers")},1764:e=>{e.exports=require("node:tls")},7261:e=>{e.exports=require("node:util")},3746:e=>{e.exports=require("node:util/types")},4086:e=>{e.exports=require("node:worker_threads")},5628:e=>{e.exports=require("node:zlib")},5888:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>k,patchFetch:()=>R,requestAsyncStorage:()=>T,routeModule:()=>v,serverHooks:()=>F,staticGenerationAsyncStorage:()=>y});var s={};t.r(s),t.d(s,{GET:()=>w,dynamic:()=>f,revalidate:()=>b,runtime:()=>m});var a=t(9303),l=t(8716),n=t(3131),o=t(7070),i=t(917);function c(e){if(!e)return null;let r=e.replace(/\u00a0/g," ").trim();if(!r)return null;let t=r.match(/^([+-])?\s*([\d,]+)$/);if(!t)return null;let s="-"===t[1]?-1:1,a=Number(t[2].replace(/,/g,""));return Number.isFinite(a)?s*a:null}function u(e){if(!e)return null;let r=e.match(/([A-Z][a-z]{2,})\s+(\d{1,2}),\s+(\d{4})/);if(!r)return null;let t={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[r[1]];if(!t)return null;let s=String(r[2]).padStart(2,"0"),a=r[3];return`${a}-${t}-${s}`}function d(e){let r={RBC:"연준 신용",SECURITIES_HELD:"보유 증권",TREASURY:"미 국채",BILLS:"단기채",NOTES_BONDS:"중장기채",TIPS:"물가연동채",MBS:"주택저당증권",REPOS:"레포",LOANS:"대출",BTFP:"은행기간대출",SWAPS:"통화스왑",GOLD:"금",SDR:"SDR 증서",CURRENCY:"유통 통화",RRP:"역레포",DEPOSITS:"연준 예치금",TGA:"재무부 일반계정"};if(r[e])return r[e];let t={"Reserve Bank credit":"연준 신용","Securities held outright":"보유 증권","U.S. Treasury securities":"미 국채",Bills:"단기채","Notes and bonds":"중장기채",TIPS:"물가연동채","Mortgage-backed securities":"주택저당증권","Repurchase agreements":"레포",Loans:"대출","Primary credit":"1차 신용","Bank Term Funding Program":"은행기간대출",BTFP:"은행기간대출","Central bank liquidity swaps":"통화스왑",Gold:"금",SDR:"SDR 증서","Reverse repurchase agreements":"역레포","Currency in circulation":"유통 통화","U.S. Treasury, General Account":"재무부 일반계정","Deposits with F.R. Banks, other than reserve balances":"연준 예치금","Other liabilities and capital":"연준 예치금","Reserve balances with Federal Reserve Banks":"지급준비금"};if(t[e])return t[e];for(let[r,s]of Object.entries(t))if(e.toLowerCase().includes(r.toLowerCase())||r.toLowerCase().includes(e.toLowerCase()))return s;return e}async function g(e,r){let t=i.zD(e),s=[];t("table").each((e,r)=>{let a=t(r),l=a.text().toLowerCase();if(l.includes("factors affecting reserve balances")||l.includes("reserve bank credit")){let e=[];a.find("thead tr, tr:first-child").first().find("th, td").each((r,s)=>{let a=t(s).text().trim();a&&e.push(a)}),a.find("tbody tr, tr").each((e,r)=>{let a=t(r),l=a.find("td, th");if(0===l.length)return;let n=a.find("td:first-child, th:first-child").text().trim();if(!n||n.length<3)return;let o=[];l.slice(1).each((e,r)=>{let s=c(t(r).text().trim());null!==s&&o.push(s)}),n&&o.length>0&&s.push({label:n,values:o})})}});let a=t("body").text().replace(/\r/g,"").split("\n").map(e=>e.replace(/\u00a0/g," ").trim()).filter(Boolean),l=u((a.find(e=>e.startsWith("Release Date:"))??"").replace("Release Date:","").trim())||"",n="";for(let e=0;e<a.length;e++){let r=a[e];if(r.includes("Week ended")&&!r.toLowerCase().includes("change from")){let e=r.match(/Week\s+ended\s+([A-Z][a-z]{2,}\s+\d{1,2},\s+\d{4})/i);if(e){n=e[1].trim();break}}}let o=u(n)||"",g=-1,h=-1;for(let e=0;e<a.length;e++){let r=a[e].toLowerCase();if(r.includes("factors affecting reserve balances")&&(r.includes("table")||e+1<a.length)){g=e,console.log(`[parseFactorsTable1] Found section start at line ${e}: "${a[e].substring(0,100)}"`);break}}if(g>=0){let e=["table 2","table 3","table 4","table 5","consolidated statement","regional federal reserve","federal reserve notes"];for(let r=g+50;r<a.length;r++){let t=a[r].toLowerCase();if(e.some(e=>t.includes(e))){h=r,console.log(`[parseFactorsTable1] Found section end at line ${r}: "${a[r].substring(0,100)}"`);break}}-1===h&&(h=Math.min(g+500,a.length),console.log(`[parseFactorsTable1] Section end not found, limiting to ${h} lines from start`))}if(-1===g)throw console.error('[parseFactorsTable1] "Factors Affecting Reserve Balances" section not found'),Error('Table 1 "Factors Affecting Reserve Balances" section not found in HTML');let f=h>0?a.slice(g,h):a.slice(g);console.log(`[parseFactorsTable1] Using section-scoped lines: ${f.length} lines (from ${g} to ${h>0?h:"end"})`);let b=-1,m=-1,w=-1,v=-1,T="",y="";for(let e=0;e<f.length;e++){let r=f[e].toLowerCase();if(r.includes("week ended")&&r.includes("change from")){b=e;let r=f[e].split(/\s{2,}|\t/).map(e=>e.trim()).filter(Boolean);for(let t=0;t<r.length;t++){let s=r[t].toLowerCase();if(s.includes("week ended")&&!s.includes("change"))m=t,f[e].match(/Week\s+ended\s+([A-Z][a-z]{2,}\s+\d{1,2},\s+\d{4})/i);else if(s.includes("change from week ended")){w=t;let r=f[e].match(/Change\s+from\s+week\s+ended:\s*([A-Z][a-z]{2,}\s+\d{1,2},\s+\d{4})/i);r&&(T=r[1].trim())}else if((s.includes("change from:")||s.includes("change from"))&&w>=0&&t>w){v=t;let r=f[e].match(/Change\s+from:\s*([A-Z][a-z]{2,}\s+\d{1,2},\s+\d{4})/i);r&&(y=r[1].trim())}}break}}if(-1===b){console.warn("[parseFactorsTable1] Header not found with standard pattern, trying flexible search...");for(let e=0;e<Math.min(300,f.length);e++){let r=f[e],t=r.toLowerCase();if(t.includes("week")||t.includes("change")){let t=[e>0?f[e-1]:"",r,e+1<f.length?f[e+1]:""].join(" ").toLowerCase();if(t.includes("week")&&t.includes("change")){b=e,m=0,w=1,v=2;let t=[e>0?f[e-1]:"",r,e+1<f.length?f[e+1]:""].join(" ");t.match(/Week\s+ended\s+([A-Z][a-z]{2,}\s+\d{1,2},\s+\d{4})/i);let s=t.match(/Change\s+from\s+week\s+ended[:\s]+([A-Z][a-z]{2,}\s+\d{1,2},\s+\d{4})/i),a=t.match(/Change\s+from[:\s]+([A-Z][a-z]{2,}\s+\d{1,2},\s+\d{4})/i);s&&(T=s[1].trim()),a&&(y=a[1].trim()),console.log(`[parseFactorsTable1] Found header at line ${e} with flexible search`);break}}}}if(-1===b){console.error("[parseFactorsTable1] Header not found. Searching in lines:",{totalLines:f.length,sampleLines:f.slice(0,100)});let e=[];for(let r=0;r<Math.min(200,f.length);r++){let t=f[r].toLowerCase();(t.includes("week")||t.includes("change")||t.includes("ended"))&&e.push({line:r,text:f[r]})}console.error("[parseFactorsTable1] Potential header lines:",e.slice(0,20)),console.warn("[parseFactorsTable1] Header not found, using default column indices"),b=0,m=0,w=1,v=2}let F=u(T)||"";console.log("[parseFactorsTable1] Header found at line",b,{weekEndedColIndex:m,changeFromWeekEndedColIndex:w,changeFromYearAgoColIndex:v,prevWeekEndedText:T,yearAgoLabel:y});let k=[],R=(e,r=0)=>{for(let t=r;t<f.length;t++)if(f[t]===e)return t;let t=e.toLowerCase();for(let e=r;e<f.length;e++)if(f[e].toLowerCase()===t)return e;let s=t.split(/[,\s]+/).filter(e=>e.length>3);for(let e=r;e<f.length;e++){let r=f[e].toLowerCase();if(s.every(e=>r.includes(e)))return e}return -1},S=R("Reserve Bank credit",b+1);-1===S&&(S=R("Reserve bank credit",b+1));let $=R("Total factors supplying reserve funds",S>=0?S:b+1);if(-1===$&&($=R("Total factors supplying",S>=0?S:b+1)),-1===S)throw console.error("[parseFactorsTable1] Supplying factors section not found. Searching for keywords:",{headerLineIndex:b,linesAroundHeader:f.slice(Math.max(0,b-5),Math.min(b+50,f.length))}),Error('Supplying factors section not found. Expected "Reserve Bank credit" after header');for(let e of(console.log(`[parseFactorsTable1] Supplying factors section: ${S} to ${$>0?$:"end"}`),console.log(`[parseFactorsTable1] Parsing supplying factors from line ${S} to ${$>0?$:f.length}`),["Reserve Bank credit","Securities held outright","U.S. Treasury securities","Bills","Notes and bonds","Treasury inflation-protected securities","Mortgage-backed securities","Repurchase agreements","Loans","Bank Term Funding Program","Central bank liquidity swaps","Gold stock","Special drawing rights certificate account"])){let r=S,t=$>0?$:Math.min(S+200,f.length),s=R(e,r);if(s<0||s>=t){e.includes("Bank Term Funding Program")&&console.warn("[parseFactorsTable1] BTFP not found, will be 0 or omitted");continue}if(e.toLowerCase().includes("total factors supplying"))continue;let a=[],l=p(f[s]);l.length>0&&a.push(...l);for(let e=1;e<=10&&s+e<f.length;e++){let r=c(f[s+e]);null!==r&&a.push(r)}if(a.length>=1){let r=a[0],t=a.length>=2?a[1]:0,l=a.length>=3?a[2]:0;if(!Number.isFinite(r)||!Number.isFinite(t)||!Number.isFinite(l)){let n=`Failed to parse numbers for "${e}" at line ${s}: value=${r}, wow=${t}, yoy=${l}`;throw console.error(`[parseFactorsTable1] ${n}`),console.error("[parseFactorsTable1] Line text:",f[s]),console.error("[parseFactorsTable1] Extracted numbers:",a),Error(n)}k.push({key:e,labelKo:d(e),value:r,wow:t,yoy:l}),console.log(`[parseFactorsTable1] Added supplying factor: ${e} = ${r} (wow: ${t}, yoy: ${l}) at line ${s}`)}else console.warn(`[parseFactorsTable1] Failed to extract numbers for ${e} at line ${s}`)}console.log(`[parseFactorsTable1] Parsed ${k.length} supplying factors (before whitelist filter)`);let x=["RBC","SECURITIES_HELD","TREASURY","BILLS","NOTES_BONDS","TIPS","MBS","REPOS","LOANS","BTFP","SWAPS","GOLD","SDR"],L=e=>{let r=e.replace(/\u00a0/g," ").replace(/[()]/g," ").replace(/\./g," ").replace(/\s+/g," ").toLowerCase().trim();return r.includes("reserve bank credit")||r.includes("연준 신용")?"RBC":r.includes("securities held outright")||r.includes("보유 증권")?"SECURITIES_HELD":(r.includes("treasury")||r.includes("국채"))&&!r.includes("general")&&!r.includes("account")?"TREASURY":r.includes("bills")||r.includes("단기채")?"BILLS":r.includes("notes")&&r.includes("bonds")||r.includes("중장기채")?r.includes("inflation")||r.includes("tips")?"TIPS":"NOTES_BONDS":r.includes("tips")||r.includes("inflation")||r.includes("물가연동채")?"TIPS":r.includes("mbs")||r.includes("mortgage")||r.includes("주택저당증권")?"MBS":(r.includes("repo")||r.includes("repurchase"))&&!r.includes("reverse")&&!r.includes("레포")?"REPOS":r.includes("loans")||r.includes("대출")?r.includes("primary credit")||r.includes("1차 신용")?"LOANS":r.includes("btfp")||r.includes("bank term funding")||r.includes("은행기간대출")?"BTFP":"LOANS":r.includes("btfp")||r.includes("bank term funding program")||r.includes("은행기간대출")?"BTFP":r.includes("swap")||r.includes("통화스왑")?"SWAPS":r.includes("gold")||r.includes("금")?"GOLD":r.includes("sdr")||r.includes("special drawing rights")||r.includes("sdr 증서")?"SDR":null},C=new Map,E=[];for(let e of k){let r=L(e.key);if(!r||!x.includes(r)){E.push(e.key);continue}let t=C.get(r);t&&(0!==t.value||0===e.value)||C.set(r,{...e,key:r})}let P=[];for(let e of x){let r=C.get(e);r&&P.push({...r,labelKo:d(e)})}console.log(`[parseFactorsTable1] Filtered supplying: ${P.length} items (expected: 13)`),E.length;let A=(e,r,t)=>{for(let s=r;s<t&&s<f.length;s++){let r=_(f[s]);if(e.test(r))return s}return -1},B=0,N=0,D=0,M=!1,q=A(/^total factors supplying reserve funds$/i,S>=0?S:b,$>0?$:Math.min(S+200,f.length));if(q>=0){let e=[];for(let r=0;r<=10&&q+r<f.length;r++){let t=p(f[q+r]);t.length>0&&e.push(...t)}e.length>=3?(B=e[0],N=e[1],D=e[2],M=!0,console.log(`[parseFactorsTable1] Parsed "Total factors supplying reserve funds" from line ${q}:`,{value:B,wow:N,yoy:D,lineText:f[q].substring(0,200),foundNumbers:e})):e.length>=1?(B=e[0],N=e.length>=2?e[1]:0,D=e.length>=3?e[2]:0,M=!0,console.log(`[parseFactorsTable1] Parsed "Total factors supplying reserve funds" (partial) from line ${q}:`,{value:B,wow:N,yoy:D,foundNumbers:e})):(console.error(`[parseFactorsTable1] Failed to extract numbers from "Total factors supplying reserve funds" at line ${q}`),console.error("[parseFactorsTable1] Line text:",f[q]),console.error("[parseFactorsTable1] Next 10 lines:",f.slice(q,Math.min(q+11,f.length)).map(e=>e.substring(0,100))))}else if(console.error('[parseFactorsTable1] "Total factors supplying reserve funds" label not found with exact pattern'),$>=0){let e=[];for(let r=0;r<=10&&$+r<f.length;r++){let t=p(f[$+r]);t.length>0&&e.push(...t)}e.length>=1&&(B=e[0],N=e.length>=2?e[1]:0,D=e.length>=3?e[2]:0,M=!0,console.warn('[parseFactorsTable1] Using fallback parsing for "Total factors supplying reserve funds"'))}let O=[],U=$>=0?$+1:f.length,I=-1,G=-1,H=-1;for(let e=U;e<Math.min(U+100,f.length);e++){let r=f[e].toLowerCase();if(r.includes("continued")||r.includes("table 1 (continued)")){H=e;break}}let Y=H>=0?Math.min(U,H):U,j=["Total factors, other than reserve balances, absorbing reserve funds","Total factors, other than reserve balances","Total factors absorbing reserve funds","Total factors absorbing"];for(let e of j)if((I=R(e,Y))>=0){console.log(`[parseFactorsTable1] Found "Total factors absorbing" label: "${e}" at line ${I}`);break}if(-1===I){for(let e of j)if((I=R(e,b))>=0){console.log(`[parseFactorsTable1] Found "Total factors absorbing" label (wide search): "${e}" at line ${I}`);break}}for(let e of(-1===I&&console.warn('[parseFactorsTable1] "Total factors absorbing" label not found, will use calculated value'),-1===(G=R("Reserve balances with Federal Reserve Banks",Y))&&(G=R("Reserve balances with Federal Reserve Banks",I>=0?I:Y)),-1===G&&(G=R("Reserve balances with Federal Reserve Banks",b)),console.log(`[parseFactorsTable1] Absorbing factors section: ${Y} to ${I>0?I:"end"}, Reserve balances at: ${G}`),console.log(`[parseFactorsTable1] Parsing absorbing factors from line ${Y} to ${I>0?I:f.length}`),["Currency in circulation","Reverse repurchase agreements","Deposits with F.R. Banks, other than reserve balances","U.S. Treasury, General Account"])){let r=I>0?I:Math.min(Y+200,f.length),t=R(e,Y);if(t<0||t>=r){if("Reverse repurchase agreements"===e)for(let e of["Reverse repurchase agreements","Reverse repurchase agreement"]){let s=R(e,Y);if(s>=0&&s<r){let e=f[s].toLowerCase();if(!e.includes("with foreign")&&!e.includes("with others")){t=s;break}}}if("Deposits with F.R. Banks, other than reserve balances"===e)for(let e of["Deposits with F.R. Banks, other than reserve balances","Deposits with FR Banks, other than reserve balances","Deposits with F. R. Banks, other than reserve balances","Other liabilities and capital"]){let s=R(e,Y);if(s>=0&&s<r){t=s;break}}if("U.S. Treasury, General Account"===e)for(let e of["U.S. Treasury, General Account","U.S. Treasury General Account","US Treasury, General Account"]){let s=R(e,Y);if(s>=0&&s<r){t=s;break}}}if(t<0||t>=r){console.warn(`[parseFactorsTable1] Required absorbing label not found: "${e}"`);continue}if(e.toLowerCase().includes("total factors")||e.toLowerCase().includes("reserve balances")&&!e.toLowerCase().includes("other than"))continue;let s=[],a=p(f[t]);a.length>0&&s.push(...a);for(let e=1;e<=10&&t+e<f.length;e++){let r=c(f[t+e]);null!==r&&s.push(r)}if(s.length>=1){let r=s[0],a=s.length>=2?s[1]:0,l=s.length>=3?s[2]:0;if(!Number.isFinite(r)||!Number.isFinite(a)||!Number.isFinite(l)){let n=`Failed to parse numbers for "${e}" at line ${t}: value=${r}, wow=${a}, yoy=${l}`;throw console.error(`[parseFactorsTable1] ${n}`),console.error("[parseFactorsTable1] Line text:",f[t]),console.error("[parseFactorsTable1] Extracted numbers:",s),Error(n)}O.push({key:e,labelKo:d(e),value:r,wow:a,yoy:l}),console.log(`[parseFactorsTable1] Added absorbing factor: ${e} = ${r} (wow: ${a}, yoy: ${l}) at line ${t}`)}else console.warn(`[parseFactorsTable1] Failed to extract numbers for ${e} at line ${t}`)}console.log(`[parseFactorsTable1] Parsed ${O.length} absorbing factors (before whitelist filter)`);let z=["CURRENCY","RRP","DEPOSITS","TGA"],_=e=>e.replace(/\u00a0/g," ").replace(/[()]/g," ").replace(/\./g," ").replace(/&/g,"and").replace(/,/g," ").replace(/\s+/g," ").toLowerCase().trim(),Z=e=>{let r=_(e);return"currency in circulation"===r||r.includes("currency in circulation")?"CURRENCY":"reverse repurchase agreements"===r||r.includes("reverse repurchase agreements")&&!r.includes("with foreign")&&!r.includes("with others")?"RRP":"us treasury general account"===r||"u s treasury general account"===r||r.includes("treasury general account")||"tga"===r?"TGA":"deposits with f r banks other than reserve balances"===r||"deposits with fr banks other than reserve balances"===r||r.includes("deposits")&&r.includes("f r banks")&&r.includes("other than reserve balances")||r.includes("deposits")&&r.includes("fr banks")&&r.includes("other than reserve balances")||"other liabilities and capital"===r||r.includes("other liabilities and capital")?"DEPOSITS":null},W=new Map,K=[];for(let e of O){let r=Z(e.key);if(!r||!z.includes(r)){K.push(e.key);continue}let t=W.get(r);t&&(0!==t.value||0===e.value)||W.set(r,{...e,key:r})}let J=[];for(let e of z){let r=W.get(e);r&&J.push({...r,labelKo:d(e)})}console.log(`[parseFactorsTable1] Filtered absorbing: ${J.length} items (expected: 4, including RRP)`),console.log("[parseFactorsTable1] Filtered absorbing items:",J.map(e=>({key:e.key,label:e.labelKo,value:e.value}))),J.some(e=>"RRP"===e.key||"역레포"===e.labelKo)||(console.warn("[parseFactorsTable1] RRP (Reverse repurchase agreements) not found in filtered absorbing items!"),console.warn("[parseFactorsTable1] All absorbing items before filtering:",O.map(e=>({key:e.key,value:e.value})))),K.length;let X=0,Q=0,V=0,ee=!1,er=A(/^total factors, other than reserve balances, absorbing reserve funds$/i,Y,I>0?I:Math.min(Y+200,f.length));if(er>=0){let e=[];for(let r=0;r<=10&&er+r<f.length;r++){let t=p(f[er+r]);t.length>0&&e.push(...t)}e.length>=3?(X=e[0],Q=e[1],V=e[2],ee=!0,console.log(`[parseFactorsTable1] Parsed "Total factors, other than reserve balances, absorbing reserve funds" from line ${er}:`,{value:X,wow:Q,yoy:V,lineText:f[er].substring(0,200),foundNumbers:e})):e.length>=1?(X=e[0],Q=e.length>=2?e[1]:0,V=e.length>=3?e[2]:0,ee=!0,console.log(`[parseFactorsTable1] Parsed "Total factors absorbing" (partial) from line ${er}:`,{value:X,wow:Q,yoy:V,foundNumbers:e})):(console.error(`[parseFactorsTable1] Failed to extract numbers from "Total factors absorbing" at line ${er}`),console.error("[parseFactorsTable1] Line text:",f[er]),console.error("[parseFactorsTable1] Next 10 lines:",f.slice(er,Math.min(er+11,f.length)).map(e=>e.substring(0,100))))}else if(console.error('[parseFactorsTable1] "Total factors, other than reserve balances, absorbing reserve funds" label not found with exact pattern'),I>=0){let e=[];for(let r=0;r<=10&&I+r<f.length;r++){let t=p(f[I+r]);t.length>0&&e.push(...t)}e.length>=1&&(X=e[0],Q=e.length>=2?e[1]:0,V=e.length>=3?e[2]:0,ee=!0,console.warn('[parseFactorsTable1] Using fallback parsing for "Total factors absorbing"'))}let et=0,es=0,ea=0,el=!1,en=A(/^reserve balances with federal reserve banks$/i,Y,Math.min(Y+300,f.length));if(en>=0){let e=[];for(let r=0;r<=10&&en+r<f.length;r++){let t=p(f[en+r]);t.length>0&&e.push(...t)}e.length>=3?(et=e[0],es=e[1],ea=e[2],el=!0,console.log(`[parseFactorsTable1] Parsed "Reserve balances with Federal Reserve Banks" from line ${en}:`,{value:et,wow:es,yoy:ea,lineText:f[en].substring(0,200),foundNumbers:e})):e.length>=1?(et=e[0],es=e.length>=2?e[1]:0,ea=e.length>=3?e[2]:0,el=!0,console.log(`[parseFactorsTable1] Parsed "Reserve balances" (partial) from line ${en}:`,{value:et,wow:es,yoy:ea,foundNumbers:e})):(console.error(`[parseFactorsTable1] Failed to extract numbers from "Reserve balances" at line ${en}`),console.error("[parseFactorsTable1] Line text:",f[en]),console.error("[parseFactorsTable1] Next 10 lines:",f.slice(en,Math.min(en+11,f.length)).map(e=>e.substring(0,100))))}else if(console.error('[parseFactorsTable1] "Reserve balances with Federal Reserve Banks" label not found with exact pattern'),G>=0){let e=[];for(let r=0;r<=10&&G+r<f.length;r++){let t=p(f[G+r]);t.length>0&&e.push(...t)}e.length>=1&&(et=e[0],es=e.length>=2?e[1]:0,ea=e.length>=3?e[2]:0,el=!0,console.warn('[parseFactorsTable1] Using fallback parsing for "Reserve balances"'))}let eo=B,ei=N,ec=D,eu=X,ed=Q,eg=V,ep=et,eh=es,ef=ea,eb=M&&ee&&el,em=0===eo&&0===eu&&0===ep;if(em){console.error("[parseFactorsTable1] ERROR: All totals are 0 - official total labels parsing failed!"),console.error("[parseFactorsTable1] Parsing status:",{totalSupplyingParsed:M,totalAbsorbingParsed:ee,reserveBalancesParsed:el,totalSupplyingValue:B,totalAbsorbingExReservesValue:X,reserveBalancesValue:et});let e=P.reduce((e,r)=>e+r.value,0),r=J.reduce((e,r)=>e+r.value,0);console.error("[parseFactorsTable1] Calculated values (for debugging):",{calculatedSupplying:e,calculatedAbsorbing:r,calculatedReserveBalances:e-r})}let ew=eo-eu,ev=Math.abs(ew-ep),eT=ev<=10;return eT||console.warn("[parseFactorsTable1] Reserve balances integrity check failed:",{calculated:ew,fromSource:ep,delta:ev}),console.log("[parseFactorsTable1] Final totals (from official labels):",{totalSupplying:{value:eo,wow:ei,yoy:ec,parsed:M},totalAbsorbing:{value:eu,wow:ed,yoy:eg,parsed:ee},reserveBalances:{value:ep,wow:eh,yoy:ef,parsed:el},allParsed:eb,allZero:em,integrityOk:eT}),{releaseDate:l,weekEnded:o,prevWeekEnded:F,yearAgoLabel:y,supplying:P,absorbing:J,totals:{totalSupplying:{value:eo,wow:ei,yoy:ec},totalAbsorbingExReserves:{value:eu,wow:ed,yoy:eg},reserveBalances:{value:ep,wow:eh,yoy:ef}},integrity:{calcReserveBalances:ew,delta:ev,ok:eT&&!em}}}function p(e){let r;let t=[],s=/([+-]?\s*[\d,]+(?:\.[\d]+)?)/g,a=[];for(;null!==(r=s.exec(e));){let e=c(r[1]);null!==e&&a.push(e)}if(a.length>0)return a;for(let r of e.split(/\s{2,}|\t/).map(e=>e.trim()).filter(Boolean)){let e=c(r);null!==e&&t.push(e)}return t}var h=t(385);let f="force-dynamic",b=0,m="nodejs";async function w(e){let r=`req-${Date.now()}-${Math.random().toString(36).substring(7)}`;try{let t;let s=new URL(e.url),a=s.searchParams.get("date")??"",l="1"===s.searchParams.get("debug");if(!a)return o.NextResponse.json({ok:!1,error:"date parameter is required (YYYY-MM-DD)"},{status:400});if(!/^\d{4}-\d{2}-\d{2}$/.test(a))return o.NextResponse.json({ok:!1,error:"Invalid date format. Use YYYY-MM-DD"},{status:400});let n=await (0,h.AU)(),c=((e,r)=>{if(0===r.length)return e;let t=new Date(e),s=null,a=1/0;if(r.includes(e))return e;for(let e of r){let r=new Date(e),l=Math.abs(r.getTime()-t.getTime());l<a&&(a=l,s=e)}return s||e})(a,n);console.log(`[${r}] Fetching factors for date: ${a} -> actual: ${c}`);let u="",d="";try{let e=await (0,h.v9)(c,n);if(u=e.html,d=e.url,!u||u.length<100)throw Error(`HTML is too short or empty: ${u?.length||0} chars`)}catch(s){let e=s instanceof Error?s.message:String(s),t=s instanceof Error?s.stack:void 0;return console.error(`[${r}] Failed to fetch H.4.1 report:`,{error:e,stack:t,url:d||"unknown",date:a,actualReleaseDate:c}),o.NextResponse.json({ok:!1,error:`Failed to fetch H.4.1 report: ${e}`,url:d||"unknown",...l&&{date:a,actualReleaseDate:c,stack:t}},{status:502})}let p=i.zD(u),f=p("body").text(),b={sourceUrl:d,httpStatus:200,htmlLength:u.length,rawTextLength:f.length,sectionFound:!1,tablesFound:0,rowsSupplying:0,rowsAbsorbing:0,headerMap:{}};try{if(console.log(`[${r}] Parsing Table 1. HTML length:`,u.length),!u||u.length<100)throw Error(`HTML is too short or empty: ${u?.length||0} chars`);let e=u.toLowerCase();if(b.sectionFound=e.includes("factors affecting reserve balances"),b.tablesFound=p("table").length,t=await g(u,d),b.rowsSupplying=t.supplying.length,b.rowsAbsorbing=t.absorbing.length,0===t.supplying.length&&0===t.absorbing.length)throw Error("No factors data parsed: both supplying and absorbing arrays are empty");if(0===t.totals.totalSupplying.value&&0===t.totals.totalAbsorbingExReserves.value&&0===t.totals.reserveBalances.value&&(t.supplying.length>0||t.absorbing.length>0)&&(t.supplying.some(e=>0!==e.value)||t.absorbing.some(e=>0!==e.value)))throw Error("Official total labels parsing failed: all totals are 0 but items have non-zero values");if(!(0!==t.totals.totalSupplying.value||0!==t.totals.totalAbsorbingExReserves.value||0!==t.totals.reserveBalances.value||t.supplying.some(e=>0!==e.value)||t.absorbing.some(e=>0!==e.value)))throw Error("All parsed values are zero - likely parsing failure");console.log(`[${r}] Factors parsed successfully:`,{supplyingCount:t.supplying.length,absorbingCount:t.absorbing.length,totalSupplying:t.totals.totalSupplying.value,totalAbsorbing:t.totals.totalAbsorbingExReserves.value,reserveBalances:t.totals.reserveBalances.value,releaseDate:t.releaseDate,weekEnded:t.weekEnded}),l&&console.log(`[${r}] Full factors data:`,JSON.stringify(t,null,2))}catch(s){let e=s instanceof Error?s.message:String(s),t=s instanceof Error?s.stack:void 0;return console.error(`[${r}] Failed to parse Table 1:`,{error:e,stack:t,htmlLength:u?.length||0,sourceUrl:d,debugInfo:b}),o.NextResponse.json({ok:!1,error:`Failed to parse Factors Table 1: ${e}`,url:d,debug:{...b,date:a,actualReleaseDate:c,htmlPreview:u?.substring(0,500)||"",stack:t}},{status:500})}return o.NextResponse.json({ok:!0,...t,...l&&{debug:b}},{headers:{"Cache-Control":"public, s-maxage=21600, stale-while-revalidate=86400"}})}catch(t){let e=t instanceof Error?t.message:String(t);return console.error(`[${r}] Error in factors route:`,{error:e,stack:t instanceof Error?t.stack:void 0}),o.NextResponse.json({ok:!1,error:e,url:"unknown",...!1},{status:500})}}let v=new a.AppRouteRouteModule({definition:{kind:l.x.APP_ROUTE,page:"/api/h41/factors/route",pathname:"/api/h41/factors",filename:"route",bundlePath:"app/api/h41/factors/route"},resolvedPagePath:"C:\\Users\\Dick\\FED_h.4.1\\h41-dashboard\\app\\api\\h41\\factors\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:T,staticGenerationAsyncStorage:y,serverHooks:F}=v,k="/api/h41/factors/route";function R(){return(0,n.patchFetch)({serverHooks:F,staticGenerationAsyncStorage:y})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,972,917,385],()=>t(5888));module.exports=s})();